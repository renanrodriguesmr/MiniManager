<h3>Criar Links</h3>
<div id="new-link">
  <div class="form-group">
    <div class="row">
      <div class="col-3">
        <label for="node1">Node 1</label>
        <input type="text" name="node1" class="form-control" id="node1">
      </div>
      <div class="col-3">
        <label for="node2">Node 2</label>
        <input type="text" name="node2" class="form-control" id="node2">
      </div>
      <div class="add-link col-1">
        <button type="button" onclick="addLink()" class="btn btn-primary">Adicionar Link</button>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <label for="bw">Largura de Banda (b/s)</label>
        <input type="number" name="bw" class="form-control" id="bw" placeholder="10">
      </div>
      <div class="col">
        <label for="delay">Delay (ms)</label>
        <input type="number" name="delay" class="form-control" id="delay" placeholder="1">
      </div>
      <div class="col">
        <label for="loss">Loss (%)</label>
        <input type="number" name="loss" class="form-control" id="loss" placeholder="1">
      </div>
      <div class="col">
        <label for="max_queue_size">MÃ¡ximo tamanho da fila</label>
        <input type="number" name="max_queue_size" class="form-control" id="max_queue_size" placeholder="100">
      </div>
      <div class="col">
        <label for="jitter">Jitter (ms)</label>
        <input type="number" name="jitter" class="form-control" id="jitter">
      </div>
    </div>
  </div>
</div>
<div id="current-links">
  
</div>
<script>
  var linksCounter = 0;
  var currentLinks = {};
  
  function addLink(){
    linksCounter++;
    var linkID = "link-"+linksCounter;
    var node1 = document.getElementById("node1").value;
    var node2 = document.getElementById("node2").value;
    var bw = document.getElementById("bw").value;
    var delay = document.getElementById("delay").value;
    var loss = document.getElementById("loss").value;
    var max_queue_size = document.getElementById("max_queue_size").value;
    var jitter = document.getElementById("jitter").value;

    var props = { bw: bw, delay: delay, loss: loss, max_queue_size: max_queue_size, jitter: jitter};
  
    var link = {id: linkID, node1: node1, node2: node2, props: props}
  
    currentLinks[linkID] = link
    renderLink(link)
  }
  
  function renderLink(link) {
    var div = document.createElement("div");
    div.id = link.id;
    div.className = "card";
  
    var h5 = document.createElement("h5");
    h5.className = "card-header";
    h5.appendChild(document.createTextNode(link.node1 + " --- " + link.node2));
    div.appendChild(h5);
  
    var ul = document.createElement("ul");
    ul.classList = ["card-body", "list-group", "list-group-flush"]
  
    for(var prop in link.props){
      var li = document.createElement("li");
      li.className = "list-group-item"
      li.appendChild(document.createTextNode(prop + ": " + link.props[prop]))
      div.appendChild(li)
    }
    div.appendChild(ul)
  
    var footer = document.createElement("div");
    footer.className = "card-footer"
    var button = document.createElement("button");
    button.appendChild(document.createTextNode("Remover elemento"));
    button.setAttribute("type", "button");
    button.onclick = function(){
      removeLink(link.id)
    }
    footer.appendChild(button);
    div.appendChild(footer);
  
    parent = document.getElementById("current-links");
    parent.appendChild(div);
  }
  
  function removeLink(linkID) {
    child = document.getElementById(linkID);
    parent = document.getElementById("current-links");
    parent.removeChild(child);
  
    delete currentLinks[linkID];
  }

  function fillLinks(links){
    console.log(links);
  }
  </script>
  