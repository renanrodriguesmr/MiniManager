<h3>Criar Links</h3>
<div id="new-link">
  <div class="form-group">
    <div class="row">
      <div class="col-3">
        <label for="node1">Node 1</label>
        <input type="text" name="node1" class="form-control" id="node1">
      </div>
      <div class="col-3">
        <label for="node2">Node 2</label>
        <input type="text" name="node2" class="form-control" id="node2">
      </div>
      <div class="add-link col-1">
        <button type="button" onclick="addLink()" class="btn btn-primary">Adicionar Link</button>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <label for="conn">connection</label>
        <input type="text" name="conn" class="form-control" id="conn">
      </div>
      <div class="col">
        <label for="delay">delay</label>
        <input type="text" name="delay" class="form-control" id="delay">
      </div>
      <div class="col">
        <label for="loss">loss</label>
        <input type="text" name="loss" class="form-control" id="loss">
      </div>
      <div class="col">
        <label for="maxqueue">maxqueue</label>
        <input type="text" name="maxqueue" class="form-control" id="maxqueue">
      </div>
      <div class="col">
        <label for="jitter">jitter</label>
        <input type="text" name="jitter" class="form-control" id="jitter">
      </div>
      <div class="col">
        <label for="speedup">speedup</label>
        <input type="text" name="speedup" class="form-control" id="speedup">
      </div>
    </div>
  </div>
</div>
<div id="current-links">
  
</div>
<script>
  var linksCounter = 0;
  var currentLinks = {};
  
  function addLink(){
    linksCounter++;
    var linkID = "link-"+linksCounter;
    var node1 = document.getElementById("node1").value;
    var node2 = document.getElementById("node2").value;
    var connection = document.getElementById("conn").value;
    var delay = document.getElementById("delay").value;
    var loss = document.getElementById("loss").value;
    var maxqueue = document.getElementById("maxqueue").value;
    var jitter = document.getElementById("jitter").value;
    var speedup = document.getElementById("speedup").value;

    var props = { connection: connection, delay: delay, loss: loss, maxqueue: maxqueue, jitter: jitter, speedup: speedup };
  
    var link = {id: linkID, node1: node1, node2: node2, props: props}
  
    currentLinks[linkID] = link
    renderLink(link)
  }
  
  function renderLink(link) {
    var div = document.createElement("div");
    div.id = link.id;
    div.className = "card";
  
    var h5 = document.createElement("h5");
    h5.className = "card-header";
    h5.appendChild(document.createTextNode(link.node1 + " --- " + link.node2));
    div.appendChild(h5);
  
    var ul = document.createElement("ul");
    ul.classList = ["card-body", "list-group", "list-group-flush"]
  
    for(var prop in link.props){
      var li = document.createElement("li");
      li.className = "list-group-item"
      li.appendChild(document.createTextNode(prop + ": " + link.props[prop]))
      div.appendChild(li)
    }
    div.appendChild(ul)
  
    var footer = document.createElement("div");
    footer.className = "card-footer"
    var button = document.createElement("button");
    button.appendChild(document.createTextNode("Remover elemento"));
    button.setAttribute("type", "button");
    button.onclick = function(){
      removeLink(link.id)
    }
    footer.appendChild(button);
    div.appendChild(footer);
  
    parent = document.getElementById("current-links");
    parent.appendChild(div);
  }
  
  function removeLink(linkID) {
    child = document.getElementById(linkID);
    parent = document.getElementById("current-links");
    parent.removeChild(child);
  
    delete currentLinks[linkID];
  }
  
  </script>
  